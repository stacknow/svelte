{"version":3,"file":"_page.svelte-BVAi2WNg.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/sverdle/_page.svelte.js"],"sourcesContent":["import { Y as ensure_array_like, X as head, W as stringify, Z as bind_props, Q as pop, O as push } from \"../../../chunks/index3.js\";\nimport \"../../../chunks/client.js\";\nimport { r as readable } from \"../../../chunks/index2.js\";\nimport { a as attr, c as clsx } from \"../../../chunks/attributes.js\";\nimport { e as escape_html } from \"../../../chunks/escaping.js\";\nconst getInitialMotionPreference = () => {\n  return false;\n};\nreadable(getInitialMotionPreference(), (set) => {\n});\nfunction _page($$payload, $$props) {\n  push();\n  let { data, form = void 0 } = $$props;\n  let won = data.answers.at(-1) === \"xxxxx\";\n  let i = won ? -1 : data.answers.length;\n  let currentGuess = data.guesses[i] || \"\";\n  let submittable = currentGuess.length === 5;\n  const { classnames, description } = (() => {\n    let classnames2 = {};\n    let description2 = {};\n    data.answers.forEach((answer, i2) => {\n      const guess = data.guesses[i2];\n      for (let i3 = 0; i3 < 5; i3 += 1) {\n        const letter = guess[i3];\n        if (answer[i3] === \"x\") {\n          classnames2[letter] = \"exact\";\n          description2[letter] = \"correct\";\n        } else if (!classnames2[letter]) {\n          classnames2[letter] = answer[i3] === \"c\" ? \"close\" : \"missing\";\n          description2[letter] = answer[i3] === \"c\" ? \"present\" : \"absent\";\n        }\n      }\n    });\n    return { classnames: classnames2, description: description2 };\n  })();\n  const each_array = ensure_array_like(Array.from(Array(6).keys()));\n  head($$payload, ($$payload2) => {\n    $$payload2.title = `<title>Sverdle</title>`;\n    $$payload2.out += `<meta name=\"description\" content=\"A Wordle clone written in SvelteKit\" class=\"svelte-1pg2j5l\">`;\n  });\n  $$payload.out += `<h1 class=\"visually-hidden svelte-1pg2j5l\">Sverdle</h1> <form method=\"post\" action=\"?/enter\" class=\"svelte-1pg2j5l\"><a class=\"how-to-play svelte-1pg2j5l\" href=\"/sverdle/how-to-play\">How to play</a> <div${attr(\"class\", `grid svelte-1pg2j5l ${stringify([\n    !won ? \"playing\" : \"\",\n    form?.badGuess ? \"bad-guess\" : \"\"\n  ].filter(Boolean).join(\" \"))}`)}><!--[-->`;\n  for (let $$index_1 = 0, $$length = each_array.length; $$index_1 < $$length; $$index_1++) {\n    let row = each_array[$$index_1];\n    const current = row === i;\n    const each_array_1 = ensure_array_like(Array.from(Array(5).keys()));\n    $$payload.out += `<h2 class=\"visually-hidden svelte-1pg2j5l\">Row ${escape_html(row + 1)}</h2> <div${attr(\"class\", `row svelte-1pg2j5l ${stringify([current ? \"current\" : \"\"].filter(Boolean).join(\" \"))}`)}><!--[-->`;\n    for (let $$index = 0, $$length2 = each_array_1.length; $$index < $$length2; $$index++) {\n      let column = each_array_1[$$index];\n      const guess = current ? currentGuess : data.guesses[row];\n      const answer = data.answers[row]?.[column];\n      const value = guess?.[column] ?? \"\";\n      const selected = current && column === guess.length;\n      const exact = answer === \"x\";\n      const close = answer === \"c\";\n      const missing = answer === \"_\";\n      $$payload.out += `<div${attr(\"class\", `letter svelte-1pg2j5l ${stringify([\n        exact ? \"exact\" : \"\",\n        close ? \"close\" : \"\",\n        missing ? \"missing\" : \"\",\n        selected ? \"selected\" : \"\"\n      ].filter(Boolean).join(\" \"))}`)}>${escape_html(value)} <span class=\"visually-hidden svelte-1pg2j5l\">`;\n      if (exact) {\n        $$payload.out += \"<!--[-->\";\n        $$payload.out += `(correct)`;\n      } else {\n        $$payload.out += \"<!--[!-->\";\n        if (close) {\n          $$payload.out += \"<!--[-->\";\n          $$payload.out += `(present)`;\n        } else {\n          $$payload.out += \"<!--[!-->\";\n          if (missing) {\n            $$payload.out += \"<!--[-->\";\n            $$payload.out += `(absent)`;\n          } else {\n            $$payload.out += \"<!--[!-->\";\n            $$payload.out += `empty`;\n          }\n          $$payload.out += `<!--]-->`;\n        }\n        $$payload.out += `<!--]-->`;\n      }\n      $$payload.out += `<!--]--></span> <input name=\"guess\"${attr(\"disabled\", !current, true)} type=\"hidden\"${attr(\"value\", value)} class=\"svelte-1pg2j5l\"></div>`;\n    }\n    $$payload.out += `<!--]--></div>`;\n  }\n  $$payload.out += `<!--]--></div> <div class=\"controls svelte-1pg2j5l\">`;\n  if (won || data.answers.length >= 6) {\n    $$payload.out += \"<!--[-->\";\n    if (!won && data.answer) {\n      $$payload.out += \"<!--[-->\";\n      $$payload.out += `<p class=\"svelte-1pg2j5l\">the answer was \"${escape_html(data.answer)}\"</p>`;\n    } else {\n      $$payload.out += \"<!--[!-->\";\n    }\n    $$payload.out += `<!--]--> <button data-key=\"enter\" class=\"restart selected svelte-1pg2j5l\" formaction=\"?/restart\">${escape_html(won ? \"you won :)\" : `game over :(`)} play again?</button>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n    const each_array_2 = ensure_array_like([\"qwertyuiop\", \"asdfghjkl\", \"zxcvbnm\"]);\n    $$payload.out += `<div class=\"keyboard svelte-1pg2j5l\"><button data-key=\"enter\"${attr(\"disabled\", !submittable, true)}${attr(\"class\", `svelte-1pg2j5l ${stringify([submittable ? \"selected\" : \"\"].filter(Boolean).join(\" \"))}`)}>enter</button> <button data-key=\"backspace\" formaction=\"?/update\" name=\"key\" value=\"backspace\" class=\"svelte-1pg2j5l\">back</button> <!--[-->`;\n    for (let $$index_3 = 0, $$length = each_array_2.length; $$index_3 < $$length; $$index_3++) {\n      let row = each_array_2[$$index_3];\n      const each_array_3 = ensure_array_like(row);\n      $$payload.out += `<div class=\"row svelte-1pg2j5l\"><!--[-->`;\n      for (let $$index_2 = 0, $$length2 = each_array_3.length; $$index_2 < $$length2; $$index_2++) {\n        let letter = each_array_3[$$index_2];\n        $$payload.out += `<button${attr(\"data-key\", letter)}${attr(\"class\", clsx(classnames[letter]) + \" svelte-1pg2j5l\")}${attr(\"disabled\", submittable, true)} formaction=\"?/update\" name=\"key\"${attr(\"value\", letter)}${attr(\"aria-label\", `${stringify(letter)} ${stringify(description[letter] || \"\")}`)}>${escape_html(letter)}</button>`;\n      }\n      $$payload.out += `<!--]--></div>`;\n    }\n    $$payload.out += `<!--]--></div>`;\n  }\n  $$payload.out += `<!--]--></div></form> `;\n  if (won) {\n    $$payload.out += \"<!--[-->\";\n    $$payload.out += `<div style=\"position: absolute; left: 50%; top: 30%\" class=\"svelte-1pg2j5l\"></div>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]-->`;\n  bind_props($$props, { form });\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}